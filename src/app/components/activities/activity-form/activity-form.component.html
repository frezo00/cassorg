<!-- <div class="activity-form__container">
  <form [formGroup]="activityForm" (ngSubmit)="onSubmit()">
    <div class="activity-form__content" fxLayout="column" fxLayoutGap="8px">
      <mat-form-field
        class="activity-form__field"
        floatLabel="always"
        fxFlex.xs="100%"
        fxFlex.gt-xs="50%"
      >
        <input
          type="text"
          matInput
          placeholder="Naslov"
          name="title"
          [formControl]="title"
          required
        />
        <mat-error *ngIf="title.invalid && (title.touched || title.dirty)">
          {{
            title.hasError('required')
              ? 'Ovo polje je obavezno'
              : title.hasError('maxlength')
              ? 'Tekst je
                  predug'
              : ''
          }}
        </mat-error>
      </mat-form-field>
      <mat-form-field
        class="activity-form__field"
        floatLabel="always"
        fxFlex.xs="100%"
        fxFlex.gt-xs="50%"
      >
        <textarea
          matInput
          cdkTextareaAutosize
          #autosize="cdkTextareaAutosize"
          cdkAutosizeMinRows="2"
          cdkAutosizeMaxRows="5"
          placeholder="Opis"
          name="description"
          [formControl]="description"
          (change)="triggerResize()"
          required
        ></textarea>
        <mat-hint align="end"> {{ description.value?.length || 0 }}/500 </mat-hint>
        <mat-error *ngIf="description.invalid && (description.touched || description.dirty)">
          {{
            description.hasError('required')
              ? 'Ovo polje je obavezno'
              : description.hasError('maxlength')
              ? 'Tekst je predug'
              : ''
          }}
        </mat-error>
      </mat-form-field>
      <mat-form-field
        class="activity-form__field"
        floatLabel="always"
        fxFlex.xs="100%"
        fxFlex.gt-xs="50%"
      >
        <input
          matInput
          [matDatepicker]="picker"
          placeholder="Datum"
          name="date"
          [formControl]="date"
          (focus)="picker.open()"
          required
          readonly
        />
        <mat-error *ngIf="date.invalid && (date.touched || date.dirty)">
          {{ date.hasError('required') ? 'Ovo polje je obavezno' : '' }}
        </mat-error>
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker touchUi #picker></mat-datepicker>
      </mat-form-field>
      <mat-form-field class="activity-form__field" floatLabel="always" fxFlex="100%">
        <mat-label style="line-height: 1.2em;">Grupa</mat-label>
        <mat-select [formControl]="group" name="group" required>
          <mat-select-trigger *ngIf="!!(groups$ | async)" fxLayoutAlign="space-between center">
            <div
              *ngIf="getGroupData() | async as selectedGroup"
              class="activity-form__group"
              fxLayoutAlign="start center"
            >
              <i
                class="activity-form__group-color"
                [ngStyle]="{ 'background-color': selectedGroup?.color }"
              ></i>
              <span class="activity-form__group-name">
                {{ selectedGroup?.name }}
              </span>
            </div>
          </mat-select-trigger>
          <mat-option *ngFor="let group of groups$ | async" [value]="group.id">
            <div class="activity-form__group-option" fxLayoutAlign="start center">
              <div
                class="activity-form__group-color"
                [ngStyle]="{ 'background-color': group?.color }"
              ></div>
              <div class="activity-form__group-info" fxLayoutAlign="start center">
                <span>{{ group?.name }}</span>
              </div>
            </div>
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div class="activity-form__action">
      <button
        mat-button
        type="button"
        class="activity-form__action-button outline"
        (click)="onCancel()"
      >
        Odustani
      </button>
      <button
        mat-button
        type="submit"
        class="activity-form__action-button"
        [disabled]="activityForm.invalid"
      >
        Spremi
      </button>
    </div>
  </form>
</div> -->

<form [formGroup]="form" (ngSubmit)="onSubmit()" class="o-form">
  <div class="o-form-group">
    <div class="o-form-control">
      <label for="title" class="o-form-control__label">Naslov</label>
      <input
        formControlName="title"
        type="text"
        id="title"
        placeholder="Naslov"
        class="o-form-control__input"
        required
      />
      <span class="o-form-control__error">Error</span>
    </div>

    <div class="o-form-control">
      <label for="description" class="o-form-control__label">Opis</label>
      <textarea
        #autosize="cdkTextareaAutosize"
        cdkTextareaAutosize
        cdkAutosizeMinRows="3"
        cdkAutosizeMaxRows="5"
        (change)="triggerResize()"
        formControlName="description"
        id="description"
        placeholder="Opis"
        class="o-form-control__input"
        required
      ></textarea>
      <span class="o-form-control__error">Error</span>
    </div>

    <div class="o-form-group-x" formGroupName="startDatetime">
      <div class="o-form-control u-flex-3">
        <label for="startDate" class="o-form-control__label">Datum početka</label>
        <input
          [matDatepicker]="startDate"
          (focus)="!startDate.opened ? startDate.open() : startDate.close()"
          formControlName="date"
          type="text"
          id="startDate"
          placeholder="04/11/2019"
          class="o-form-control__input"
          required
          readonly
        />
        <mat-icon class="o-form-control__input-icon">event</mat-icon>
        <span class="o-form-control__error">Error</span>
        <mat-datepicker touchUi #startDate></mat-datepicker>
      </div>
      <div class="o-form-control u-flex-2">
        <label for="startTime" class="o-form-control__label">Vrijeme početka</label>
        <input
          [matDatepicker]="startTime"
          (focus)="!startTime.opened ? startTime.open() : startTime.close()"
          formControlName="time"
          type="text"
          id="startTime"
          placeholder="17:00"
          class="o-form-control__input"
          required
          readonly
        />
        <mat-icon class="o-form-control__input-icon">access_time</mat-icon>
        <span class="o-form-control__error">Error</span>
        <mat-datepicker touchUi #startTime></mat-datepicker>
      </div>
    </div>
    <div class="o-form-group-x" formGroupName="endDatetime">
      <div class="o-form-control u-flex-3">
        <label for="endDate" class="o-form-control__label">Datum završetka</label>
        <input
          [matDatepicker]="endDate"
          (focus)="!endDate.opened ? endDate.open() : endDate.close()"
          formControlName="date"
          type="text"
          id="endDate"
          placeholder="05/11/2019"
          class="o-form-control__input"
          readonly
        />
        <mat-icon class="o-form-control__input-icon">event</mat-icon>
        <span class="o-form-control__error">Error</span>
        <mat-datepicker touchUi #endDate></mat-datepicker>
      </div>
      <div class="o-form-control u-flex-2">
        <label for="endTime" class="o-form-control__label">Vrijeme završetka</label>
        <input
          [matDatepicker]="endTime"
          (focus)="!endTime.opened ? endTime.open() : endTime.close()"
          formControlName="time"
          type="text"
          id="endTime"
          placeholder="19:00"
          class="o-form-control__input"
          readonly
        />
        <mat-icon class="o-form-control__input-icon">access_time</mat-icon>
        <span class="o-form-control__error">Error</span>
        <mat-datepicker touchUi #endTime></mat-datepicker>
      </div>
    </div>

    <div class="o-form-control">
      <label class="o-form-control__label">Odaberi grupe</label>
      <div formArrayName="groups" class="o-form-array">
        <div *ngFor="let group of groupArray.controls; let i = index">
          <input
            [formControlName]="i"
            type="checkbox"
            id="group-{{ i }}"
            class="c-group-checkbox"
          />
          <label for="group-{{ i }}" class="c-group-tag">
            <i [ngStyle]="{ 'background-color': groups[i].color }" class="c-group-tag__color"></i>
            <span class="c-group-tag__text">{{ groups[i].name }}</span>
          </label>
        </div>
      </div>
      <span class="o-form-control__error">Error</span>
    </div>
  </div>
</form>
